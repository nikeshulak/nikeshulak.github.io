// This PC\HONOR 8S\Internal storage\Download\apache\nikeshulak.github.io\books\maha-geeta
import { noteMahaGeeta } from './note/maha-geeta.js'

var todo = [
	'CKEditor - having code view'
];

var selectedNote = {
	'17': [
		{
			time: '1:28:10',
			endtime: '',
			tag: '',
			desc: 'जो हो रहा है, वह समस्त के कारण हो रहा है, मैं सिर्फ द्रष्टा-मात्र हूं--ऐसी समझ प्रगाढ़ हो जाए, ऐसी ज्योति जले अकंप, निर्धूम, तो साक्षी का जन्म होता है।',
		},
	]
}

var noteSufisVol1 = {
	'01': [
		{
			time: '0:1:29',
			desc: 'A Sufi need not be a Mohammedan. A Sufi can exist anywhere, in any form'
		},
		{
			time: '0:5:19',
			desc: 'You are the hindrance. Sufism is the art of removing the hindrance between you and you, between the self and the self – between the part and the whole.'
		},
		{
			time: '0:10:53',
			desc: 'Sufism is a special kind of magic, a rare kind of magic. It can be transferred only from person to person, not from a book. It cannot be transferred by scriptures. It is also just like Zen – a transmission beyond words. The Sufis have a special word for it – they call it silsila. What Hindus call parampara, they call silsila. Silsila means a transfer from one heart to another heart, from one person to another person. It is a very, very personal religion.'
		},
		{
			time: '0:11:52',
			desc: 'You cannot have it without being related to an enlightened master – there is no other way. You can read all the literature that exists on Sufism and you will be lost in a jungle of words. Unless you find a guide, unless you fall in love with a guide, you will not have the taste.'
		},
		{
			time: '0:14:53',
			desc: 'When you love a person all fear disappears. And when you are afraid all love disappears. You can hate the person if you are afraid of him, but you cannot love him. Down the centuries man has been taught to be afraid of God and the ultimate result is that Nietzsche had to declare that God is dead. That is the ultimate result of the fear-oriented mind.'
		},
		{
			time: '0:16:10',
			desc: 'People who come to me are God-loving people. When I say God-loving, I mean they are in search, they want to know. And they want to know authentically, they don’t want to have borrowed knowledge about it. They want to have a taste. They want to encounter, they want to face God, they want to look into his eyes. But before you can become capable of looking into the eyes of God you will have to become capable of looking into the eyes of a master. From there you take off. The journey begins.'
		},
		{
			time: '0:17:1',
			desc: 'I will make myself available to you. Sufism is just an excuse. I will not be talking about Sufism, I will be talking Sufism itself.'
		},
		{
			time: '0:20:34',
			desc: 'A Sufi has to become as innocent as an animal. The Sufi has to attain a primal innocence. He has to drop all kinds of civilization, he has to drop all kinds of cultures, he has to drop all conditionings, he has to become again an animal. Then the symbol becomes tremendously significant.'
		},
		{
			time: '0:21:31',
			desc: 'When man becomes animal he does not fall back, he goes higher. When man becomes animal, he is not just an animal. That is not possible. You cannot fall back. When a man becomes an animal he becomes a saint. He remains conscious, but his consciousness is no longer burdened by any conditioning. He is no longer a Hindu and no longer a Mohammedan and no longer a Christian. He is in tune with existence as deeply as any animal. He has dropped all kinds of philosophies, he carries no conceptualizations in his mind, his mind is without any content. He is, but he is no longer in the mind. To be without the mind – that is the meaning of the woolen robe. To be like innocent animals, not to know what is good and what is bad – and then the highest good arises, the summum bonum.'
		},
		{
			time: '0:23:9',
			desc: 'When you know this is good and that is bad, and you choose good against bad, you remain divided. When you choose, there is repression. When you say, “I will do this. This has to be done. This should be done,” this becomes an “ought.” Then naturally you have to repress – you have to repress that which you have condemned as bad and the repressed part remains inside you and goes on poisoning your system. Sooner or later it will assert, sooner or later it will take revenge. When it explodes, you will go mad.'
		},
		{
			time: '0:24:2',
			desc: 'Hence all civilized people are always on the verge of madness. This earth is a big madhouse. A few have already become mad, a few are potentially ready. The difference between you and the mad people is not of quality, it is only of quantity, only of degree. Maybe they have gone beyond a hundred degrees and you are just lingering somewhere – at ninety-eight, ninety-nine – but any moment any situation can push you beyond the boundary. Don’t you see it? Can’t you observe your mind? Can’t you see the madness that goes on and on inside? It is continuously there. You avoid it; you get occupied in a thousand and one things just to avoid it. You don’t look at it, you want to forget about it. It is too scary, too frightening. But it is there – and whether you avoid it or not it is growing. It is continuously accumulating momentum. It can come to a peak at any time, any small thing can trigger it. When you choose, you have to repress.'
		},
		{
			time: '0:25:43',
			desc: 'The animal does not choose. Whatever is, is. The animal simply accepts it; its acceptance is total. It knows no choice.'
		},
		{
			time: '0:25:58',
			desc: 'So does a Sufi. A Sufi knows no choice. He is choicelessly aware. Whatever happens he accepts it as a gift, as a God-given thing. Who is he to choose. He does not trust in his mind, he trusts in the universal mind. That’s why when you come across a Sufi you will see such animal innocence in his eyes, in his being; such freedom, such joy as only animals know – or trees or rocks or stars.'
		},
		{
			time: '0:27:51',
			desc: 'But on exactly the same grounds I approve the definition. To me, to be an animal means to be innocent – not to know morality, not to know immorality. To be an animal is not a condemnation. A saint is more like the animals than like you, than like the so-called human beings.'
		},
		{
			time: '0:28:28',
			desc: 'But when you want to love God you have to be without masks. You have to drop all deceptions. You have to be authentically whatever you are, to be choicelessly whatever you are. In that primal innocence God descends.'
		},
		{
			time: '0:31:20',
			desc: 'That’s how we go on living. All of our religions are just like that – all just verbal. They do not penetrate your being. And you know that whatever you say, you do exactly the opposite. You think one thing, you say another, and you do something else. You are a trinity, you are not one. And all those three people are going in three different directions. You are a crowd – hence the misery.'
		},
		{
			time: '0:32:20',
			desc: 'The animal is one – hence the blissfulness of the animal. The animal has nothing whatever to be happy about. He does not have a big palace to live in and he does not have a TV and radio and all of that. He has nothing, and yet in him you will find great peace, silence, joy, celebration. Why? One thing is there: the animal is not a chooser.'
		},
		{
			time: '0:33:13',
			desc: 'The Sufi is not a chooser. Choose and you deceive; choose and you start becoming false; choose and you become plastic.'
		},
		{
			time: '0:34:15',
			desc: 'But that’s the situation of all ladies and of all gentlemen – they pay lip service to God, but basically they are surrendered to the Devil. The Devil is deeper because the Devil has been repressed. Whenever something is repressed it goes deeper in your being; you become just a hypocrite.'
		},
		{
			time: '0:34:46',
			desc: 'By asserting the symbol of the animal Sufis declare, “We are simple people. We don’t know what is good and what is bad. We know only God, and whatever happens is his gift. We accept it. We are not doers on our own accord.” This is the first meaning of the word sufi.'
		},
		{
			time: '0:35:24',
			desc: 'There is another possibility: the word sufi can be derived from sufa – purity, cleanliness, purification. That too is good. When you live a life of choicelessness a natural purity comes. But remember, this purity has nothing of morality in it. It does not mean pure in the sense of being good; it means pure in the sense of being divine, not in the sense of being good. Pure simply means pure of all ideas, both good and bad. Purity means transcendence. One has no idea at all, no prejudices. One trusts life so utterly that one need not have any ideas, one can live without ideas. When ideas are there in the mind they create impurity, they create wounds. When you are too full of ideas, you are too full of dirt. All ideas are dirty. Yes, even the idea of God is a dirty idea because ideas are dirty.'
		},
		{
			time: '0:37:3',
			desc: 'For a Sufi, God is not an idea, it is his lived reality. It is not sitting somewhere on a throne high in the heavens, no – it is herenow, it is all over the place, it is everywhere. God is just a name for the totality of existence.'
		},
		{
			time: '0:37:41',
			desc: 'Purity means a contentless mind – so please don’t be misguided by the word purity. It does not mean a man who has a good character. It does not mean a man who behaves according to the Ten Commandments. It does not mean a man who is respected by the society as a good man.'
		},
		{
			time: '0:38:13',
			desc: 'A Sufi has never been respected by the society. A Sufi lives such a rebellious life that the society has almost always been murdering Sufis, crucifying them – because the Sufi makes you aware of your falsity. He becomes a constant sermon against your artificiality, against your ugliness, against your inhumanity to human beings, against your masks, against all that you are and represent. A Sufi becomes a constant pain in the neck to the so-called society and to the so-called respectable people.'
		},
		{
			time: '0:41:36',
			desc: 'If you start living in God you become intolerable to the so-called society. The society lives in hypocrisy, it cannot tolerate truth. Truth has to be crucified. It can love the Church, but it cannot love Christ. It can love the Vatican pope, but it cannot love Jesus. When Jesus is gone then it is good – you can go on worshipping him. When Mansoor is gone you can go on talking about him. But when he is there he is a fire. Only those who are ready to be consumed by the fire will be ready to fall in love with Mansoor.'
		},
		{
			time: '0:43:21',
			desc: 'Sufis say that you cannot search for God unless he has already chosen you. How can you search for God if he has not already searched for you? All initiative is from the side of God. He is searching for you, he is desiring you, he goes on groping for you: “Where are you?” When he chooses somebody only then do you start choosing him. You may not know it – because when he chooses, how can you know?'
		},
		{
			time: '0:44:3',
			desc: 'The same is true about a master. You think that you choose a master? Nonsense, just nonsense! It is always the master who chooses you. The very idea that you choose the master is egoistic. How can you choose the master? How will you know in the first place who the master is? How will you decide? What criteria have you got? You cannot choose a master, the master chooses you.'
		},
		{
			time: '0:45:43',
			desc: 'And so is the ultimate case with God. God chooses first, then you start feeling a hunger for him. And it is only Sufis who have said this. No other tradition has said so clearly that man cannot choose God, it is God who chooses man. It is a blessing. Even to feel a thirst for God is a great blessing. You should feel happy that you have been chosen, that God has already called you. The first call is always heard in the deep unconscious so you cannot figure out what it is, from where it is coming. You feel it as if it is coming from you. It is not coming from you.'
		},
		{
			time: '0:47:16',
			desc: 'You can choose only that which you know. How can you choose God? You can take the initiative for other things, the worldly things, because you know them. You can have an idea of how to purchase a beautiful house, or how to have this woman as your wife or this man as your husband, or how to have more money, more power, more prestige – you can choose these things. How can you choose God? You have not even had a glimpse, not even in your dreams. How can you choose something so utterly unknown to you?'
		},
		{
			time: '0:48:6',
			desc: 'But you are not unknown to God. He can choose you. Whenever he chooses, a great desire arises in you to find him. That is an indication that he has chosen you. You have become a Sufi – chosen as a friend by God. That is also beautiful.'
		},
		{
			time: '0:49:43',
			desc: 'A man becomes a Sufi only when he has known. When he himself has known, when he himself has touched the reality, when he himself has seen the face of God, then he becomes a Sufi. He has become wise. He is no longer just knowledgeable, now it is his own experience.'
		},
		{
			time: '0:50:15',
			desc: 'And if you don’t arrive at any conclusion your life is not going to be transformed. Just by thinking, nobody is transformed; only when you arrive at some conclusions through experience do you grow. Philosophy is a game with words and logic – a beautiful game. If you like it you can play it, but you remain the same. It never changes you.'
		},
		{
			time: '0:51:51',
			desc: 'Another possibility of getting the divorce is Sufism. Science moves toward the object and becomes experimentation, Sufism moves toward the subject and becomes experience. But both are concerned about reality – science for the reality that is outside and Sufism for the reality that is inside. Both have divorced philosophy.'
		},
		{
			time: '0:54:34',
			desc: 'The Koran says there are three basic qualities that have to be in the heart of the seeker. The first is khushu. Khushu means humility, humbleness. The second is karamat. Karamat means charity, sharing, the joy of giving. And the third is sijd. Sijd means truthfulness, authenticity; not to pretend, but to be whatever you are. These three are the three pillars of Sufism.'
		},
		{
			time: '0:55:33',
			desc: 'Humility does not mean the ordinary so-called humbleness. The ordinary humble person is not egoless. He carries a new kind of ego – of being humble. He thinks he is humble, “Nobody is as humble as I am. I am the topmost in humility.” But he goes on comparing. The ego has not changed, the ego has only taken a new posture, a new gesture, more subtle.'
		},
		{
			time: '0:56:22',
			desc: 'First the ego was very gross. When you go on bragging about your money, it is very gross. One day you renounce your money and then you start bragging that you have renounced all. This is very subtle, but the bragging continues. First you say, “I am somebody.” In a thousand and one ways you try to prove that you are somebody. Then one day seeing the futility of it you drop the whole trip, you turn back, you take another gesture – you stand on your head and you start saying, “I am nobody.” But “I am” continues. The claim was for somebody, now it is for nobody. The claim was there, the claim is still there. Now it has taken a subtle form.'
		},
		{
			time: '0:57:34',
			desc: 'Humility, khushu, means a man who has understood all the ways of the ego. And by understanding all the ways of the ego, the ego has disappeared. There is no claim, not even of being humble. When there is no claim, there is humility, there is khushu.'
		},
		{
			time: '0:57:58',
			desc: 'This is one of the most essential qualities for those who want to move toward God – because if you are too much, you will not be moving. You have to be liquid, you have to melt; you cannot remain frozen in your ego. Only when you melt will you start moving. And when you start moving where else can you move? All movement is toward God. Only those who are ossified are not reaching toward God – otherwise, if you are moving, you are moving toward God. There is no other movement.'
		},
		{
			time: '0:58:57',
			desc: 'The second is charity – karamat. Charity does not mean that you give and you feel very good that you have given, that you give and you oblige the person to whom you have given. Then it is not karamat, then it is not charity. Charity is when you give and you feel obliged that the other has taken it; when you give with no idea that you are obliging anybody in any way; when you give because you have too much – what else can you do? It is not that the other needs.'
		},
		{
			time: '0:59:58',
			desc: 'Charity is when you give out of your affluence, when you give out of your abundance. It is not that the other is needy and you are helping him; the other is not the question at all. You give because you have – what else can you do? The flower has bloomed and the fragrance spreads to the winds – what else can the flower do? The lamp has been lighted and it shares its light, it spreads its light. The cloud is full of water and it showers – what else can it do?'
		},
		{
			time: '1:0:44',
			desc: 'When you give out of your abundance, only then is there charity. And then you don’t bother who is worthy of receiving it. That is not the point at all.'
		},
		{
			time: '1:4:43',
			desc: 'That’s why people say, “Honesty is the best policy.” But the man who says, “Honesty is the best policy” is not an honest man, remember. Policy? – the very word is dishonest. Truth cannot be a policy and honesty cannot be a policy. They can only be your very heart – not policies. Policies can be used and dropped. Policies are political. When honesty pays, you are honest – that’s what it means. “Honesty is the best policy.” When it does not pay, you become dishonest. You have no relationship with honesty. You use it. That’s what it means when you say “policy.”'
		},
		{
			time: '1:5:41',
			desc: 'Sijd – the Sufi word means to be truthful, to be true. It is not only a question of policy. Whatever happens, whatever the result, not thinking of the result at all but just to be whatever is true. To risk all for truth – that’s what sijd is. It is to risk everything for truth. Because if truth is saved, all is saved, and if truth is lost, all is lost.'
		},
		{
			time: '1:7:34',
			desc: 'First he is saying that a Sufi lives moment by moment; he does not bother about what is going to happen in the next moment. He has no plan for the next moment. A Sufi has no future. This moment is all. He lives in it, he lives totally in it because there is nowhere else to go.'
		},
		{
			time: '1:8:10',
			desc: 'You cannot live totally in the moment if you have a future – a part of your being will be flowing toward the future, naturally. If you have a past you cannot live in the present, part of your mind will be flowing toward the past. You will become fragmented. The major part of your being will remain hanging somewhere in the past and the remaining greater part will have already moved somewhere into the future. Nothing will be left for the present. And the present is so small, so atomic, that you can miss it very easily. People are missing it. People have pasts and people have futures, people don’t have any present.'
		},
		{
			time: '1:9:8',
			desc: 'The Sufi lives in the present. To live in the present, the basic need is to withdraw yourself from the past, to withdraw yourself from the future. Then there comes a concentration of energies, then this small moment becomes luminous, you pour your total energy into it – then there is joy and benediction. If you are miserable, it is only because you live in the past and in the future. A miserable man has a past and a future, a man who lives in bliss has only the moment, this moment. He lives in the now.'
		},
		{
			time: '1:10:3',
			desc: 'Ashley Montagu has coined a new word – it will be very, very helpful to understand. He says that this newness, this constantly being new in the moment, this constantly dropping out of the past and not jumping into the future is a great art. He calls that art, neoteny. Neo means new, teny means stretched out, extended.'
		},
		{
			time: '1:10:44',
			desc: 'A man can live his whole life in newness, a man can live his whole life like a child, a man can have the quality of a child extended all over his life – the art is to live in the moment. The person who lives in the moment never grows old. He matures, but he never grows old. He really grows. Growing old is not really growing. Growing old is only dying slowly; growing old is only slowly committing suicide. The man who lives in the moment never becomes old in the sense that people become old. He never becomes knowledgeable. He is always innocent, curious, thrilled, full of wonder. Every moment brings a new surprise. He is ready to explore new dimensions of life. He is always on an adventure. He is an explorer. He is never fed up with life. He is never bored.'
		},
		{
			time: '1:13:13',
			desc: 'Look at people. Look at people’s eyes. They don’t have the glimmer of surprise. Look at their faces, their faces say that nothing is going to happen anymore. They are bored, utterly bored. If they are not committing suicide it is only because they are cowards. Otherwise, there is nothing to live for; there is no meaning, no significance. There seems to be no joy. Just go to any street and stand at the side and watch people. Just everybody seems to be so full of dust.'
		},
		{
			time: '1:14:15',
			desc: 'Why do people go on living? – because they are afraid to commit suicide. Otherwise, life has no joy. Or maybe they are so bored that they don’t feel that anything is going to happen even in death. They are so bored, nothing is ever going to happen. Nothing ever happens. And the reason? The reason is that they are burdened by the past.'
		},
		{
			time: '1:14:50',
			desc: 'Sufism says, “Don’t be burdened by the past and don’t be burdened by the future either. This moment is precious, why waste it in thinking about things that are no more or in thinking about things that are not yet?”'
		},
		{
			time: '1:15:9',
			desc: 'Let this moment be one of great joy, and that joy becomes a prayer, that joy becomes zikr, that joy becomes a remembrance of God. It is no use just repeating, “Allah, Allah, Allah”; it is no use just repeating, “Rama, Rama, Rama.” When you are full of joy then you remember Allah in the deepest core of your being. It is not that you repeat it verbally; your whole existence says Allah, your every cell, your every fiber of being, says Allah. It is not that you repeat it; it is not verbal, it is existential. It is there, it is constantly there. It becomes a climate inside you. You start living in that juice, in that joy.'
		},
		{
			time: '1:16:22',
			desc: 'So the first thing Uwais says is, “This is my feeling. I live moment to moment, without any plan or future. I don’t know what is going to happen this evening – maybe death.” By death he simply means that anything is possible, even death is possible. “I live in surprise, I live in wonder, I live in mystery. And the greatest mystery is death.”'
		},
		{
			time: '1:17:4',
			desc: 'There are only two mysteries: life and death. And the greatest is certainly death – because life is spread out and death is very intense. Life happens in seventy, eighty, a hundred years. Naturally it is spread out. Death happens in a single moment, it is very intense. Death is the culmination, the crescendo. Death is the greatest orgasm there is. Hence along the way, people are afraid of orgasm also because they are afraid of death. Many people don’t have orgasms. Or even if they do, it is a local orgasm, not very orgasmic – because of fear. The orgasmic moment is a death moment. And in death happens the ultimate orgasm. In that moment you utterly disappear into nothingness. It is the greatest experience.'
		},
		{
			time: '1:18:40',
			desc: 'Uwais says, “I don’t know what is going to happen – maybe death.” Death is a door to God. Those who know how to die know how to enter God. Clingers, clinging to life, never know what God is because they don’t allow death. And death comes every day; as each moment passes by something dies. If you are thirty years old you have been dying for thirty years continuously. If you gather those moments of thirty years, those dead moments that you have already lived, if you gather them, then you are burdened. Then you start growing old. Then you are carrying such a load – how can you be in a dance? That load won’t allow it.'
		},
		{
			time: '1:18:40',
			desc: 'Uwais says, “I don’t know what is going to happen – maybe death.” Death is a door to God. Those who know how to die know how to enter God. Clingers, clinging to life, never know what God is because they don’t allow death. And death comes every day; as each moment passes by something dies. If you are thirty years old you have been dying for thirty years continuously. If you gather those moments of thirty years, those dead moments that you have already lived, if you gather them, then you are burdened. Then you start growing old. Then you are carrying such a load – how can you be in a dance? That load won’t allow it.'
		},
		{
			time: '1:19:45',
			desc: 'If you can drop that load every day and you are again fresh, again innocent, again a child, then you know that death is also happening every day. Life and death are happening together. Then one day comes the ultimate death and one accepts it, welcomes it, celebrates it, disappears into it dancing. How you behave at the moment of death will show how you have lived. Your death moment will be a testament.'
		},
		{
			time: '1:20:39',
			desc: 'Uwais is saying, “I am always facing death and waiting for it. And I am thrilled by the possibility of it.” But to face death means to live courageously. People avoid death, they have even avoided the very idea of it. They think, “Everybody else dies, but I am not going to die.”'
		},
		{
			time: '1:21:9',
			desc: 'If you live in such innocence you live in ignorance. Ignorance is a great religious quality. A man of knowledge cannot become religious, but an ignorant man can easily become religious.'
		},
		{
			time: '1:22:26',
			desc: 'Uwais said, “Yes. But how many of them feel it?” They are going to die. Every moment the unknown penetrates life – that’s what death is. But they don’t feel it. They are not aware of it. People live in a kind of sleep, in a kind of slumber. People are almost sleepwalkers.'
		},
		{
			time: '1:25:10',
			desc: 'People are not alert at all. They are asleep. A kind of dullness, a kind of fog surrounds your being. It is very foggy and confused. Very rarely do you become alert, very, very rarely. Rare are those moments. Gurdjieff used to say that if a man had them seven times in his life it is more than you can expect. Very rarely.'
		},
		{
			time: '1:28:6',
			desc: 'People are living in that fog. And it is not only that when you drink you become foggy – you are drinking a thousand and one kinds of alcohol every moment. Somebody is money-mad – then money is his alcohol. Somebody is power-mad – then he is drinking power and will become a drunkard. And there are different kinds of mad people. But everybody has his own particular kind of alcohol that makes him drunk.'
		},
		{
			time: '1:28:57',
			desc: 'Have you seen the eyes of a miser looking at his money? He looks at the money as if he is looking at his beloved. He touches money with such tenderness. He feels one-hundred-rupee notes with such love and care. When the money is there he forgets the whole world.'
		},
		{
			time: '1:30:33',
			desc: 'But everybody is drunk. They drink different kinds of drinks, but they are still drunk. A Sufi is one who is not drunk. That’s what Uwais means when he says: “Yes, but how many of them feel it?”'
		},
		{
			time: '1:31:24',
			desc: 'Sufism is the path of love, feeling. If Bodhidharma had been asked he must have said, “How many are aware of it?” He would have used the word aware, not feel. No Zen master would use the word feel – that is the basic difference, otherwise there is no difference.'
		},
		{
			time: '1:35:46',
			desc: 'You must have heard about the beautiful Sufi legend of Majnu and Laila. It is not an ordinary love story. The word majnu means mad, mad for God. And laila is the symbol of God. Sufis think of God as the beloved; laila means the beloved. Everybody is a Majnu, and God is the beloved. And one has to open one’s heart, the eye of the heart.'
		},
		{
			time: '1:36:33',
			desc: 'That’s why Uwais says: “Yes, but how many of them feel it?” People have become completely unfeeling, they don’t feel at all. They have bypassed their hearts. They don’t go through the heart, they have reached the head. They have avoided the heart. Hence there seems to be no benediction in life. It is only through the heart that the flowers bloom and it is only through the heart that the birds start singing, and it is only through the heart that you come to realize life not as a dry awareness, but as a celebration.'
		},
	],
	'02': [
		{
			time: '',
			desc: ''
		},
		{
			time: '',
			desc: ''
		},
		{
			time: '',
			desc: ''
		},
		{
			time: '',
			desc: ''
		},
	]
}

var bookPathConst = {
	MAHA_GEETA: "osho-maha-geeta/cbr/OSHO-Maha_Geeta_",
	SUFIS_VOL_1: "sufis/vol-1/cbr/OSHO-Sufis_The_People_of_Path_1_",
}

var bookNoteConst = {
	[bookPathConst.MAHA_GEETA]: noteMahaGeeta,
	[bookPathConst.SUFIS_VOL_1]: noteSufisVol1
}

var searchTagConst = {
	[bookPathConst.MAHA_GEETA]: `<p>
					Search 
					प्रभु <br />

					<!-- 49 -->
					<span class="search-tag">मैं कौन हूं</span>, 					
					
					<!-- 44 -->
					<span class="search-tag">लीलापूर्वक सुनो</span>, 					

					<!-- 43 -->
					<span class="search-tag">भाला</span>, 					

					<!-- 30 -->
					<span class="search-tag">मैं कौन हूं</span>, 					
					<span class="search-tag">भीतर लगता है कैसे मिलेगा</span>, 					
					<span class="search-tag"></span>, 					

					<!-- 25 -->
					<span class="search-tag">तुम दुख से ध्यान हटाओ</span>, 
					<span class="search-tag">नींद न आए तो बीमार बीमारी को भूल नहीं पाता</span>, 
					<span class="search-tag">दुख की बात ही मत उठाओ</span>, 
					<span class="search-tag">उन क्षणों को खोजो जहां मन की कोई क्रिया न हो</span>, 
					<span class="search-tag">तुमने अगर परमात्मा चाहा तो भी तुम बंधन में हो</span>, 
					<span class="search-tag">जो व्यक्ति अपनी मूढ़ता पर हंसने लगे वह बुद्धिमान होना शुरू हो गया</span>, 
					<span class="search-tag">सोचा कि उलझे। सोच-विचार में जाल है</span>,
					<span class="search-tag">सुखी आदमी क्षण भर को दुख को भुला बैठा है</span>, 
					<span class="search-tag">तुम जिसे दुख कहते हो, उससे आनंद करीब है, बजाय तुम्हारे सुख के</span>, 
					<span class="search-tag"> दुख में मजबूरी से आदमी को स्वयं का थोड़ा बहुत स्मरण करना पड़ता है</span>, 
					<span class="search-tag">उस दुख को देखना</span>, 
					<span class="search-tag">तुम दुखों को ध्यान बना लो</span>, 
					<span class="search-tag">सुखी आदमी एक तरह के अभिशाप में है</span>, 
					<span class="search-tag">दुखी आदमी को एक तरह का वरदान है</span>, 
					<span class="search-tag">सुख आएं तो सौभाग्य मत समझना</span>, 
					<span class="search-tag">दुख आएं तो दुर्भाग्य मत समझना</span>, 
					<span class="search-tag">मोक्ष तो तुम्हारे ही चित्त की आत्यंतिक रूप से शांत हो गई दशा है</span>, 
					<span class="search-tag">कुछ भी चाहा, तो चूके, तो अपने से चूके</span>, 
					<span class="search-tag">जिसको खोजना है, वह मेरे भीतर है</span>, 
					<span class="search-tag">जब तुम देखते हुए--और नहीं देखते</span>, 
					<span class="search-tag">एक श्वास भी नहीं मिलती</span>, 
					<span class="search-tag">एक ही चीज गिरा देनी है: मैं-भाव</span>, 
					<span class="search-tag">परम शांति में तुम्हारी सीमा खो जाती है</span>, 
					<span class="search-tag">जो होता हो उसे देखो</span>, 
					<span class="search-tag">जब तुम्हारा सब सोच-विचार खो जाएगा</span>, 
					<span class="search-tag">जैसी तेरी मर्जी वैसे रहेंगे</span>, 
					<span class="search-tag">तुम्हारा सब संघर्ष समाप्त हो जाता है</span>, 
					<span class="search-tag">अब जो होगा वह मुझे स्वीकार है</span>, 
					<span class="search-tag">तुम्हीं को अपनी परीक्षा लेनी है</span>, 
					<span class="search-tag">सोच-विचार से नहीं, प्रयोग से, ध्यान से मति उपलब्ध होगी</span>, 
					<span class="search-tag">मैं से भरे हुए तो नर्क, मैं से मुक्त तो स्वर्ग</span>, 
					<span class="search-tag">जाग कर देखते रहो, जो घटता है घटने दो</span>, 
					<span class="search-tag">जो घटे, उसे घटने देना; इच्छापूर्वक अन्यथा मत चाहना</span>, <br>

					<!-- 24 -->
					<span class="search-tag">होना नहीं है</span>, 
					<span class="search-tag">तुम वंचित हो जाओगे</span>, 
					<span class="search-tag">समय के जाल</span>, 
					<span class="search-tag">आदर्श-मुक्त हो जाओ</span>, 
					<span class="search-tag">आनंदित होओ</span>, 
					<span class="search-tag">सदा तुम्हारी योजना टूटती है</span>, 
					<span class="search-tag">तुम हारो</span>, 
					<span class="search-tag">संभोग की आत्यंतिक गहराई</span>, 
					<span class="search-tag">आदमी का आदर्श देख कर</span>, 
					<span class="search-tag">उसी होश से स्वास्थ्य फलित होता है</span>, 
					<span class="search-tag">कामवासना में होशपूर्वक जाओ</span>, 
					<span class="search-tag">प्रभु जो दिखाएगा उसे देखेंगे</span>, 
					<span class="search-tag">दौड़ गिरी, अहंकार गिरा</span>, 
					<span class="search-tag">जहां जीवन ले जाए वहीं चलो</span>, 
					<span class="search-tag">परमात्मा नियंता है</span>, 
					<span class="search-tag">बेसहारा हो कर सहारा मिला</span>, 
					<span class="search-tag">बेसहारा हो जाओ, असहाय हो जाओ</span>, 
					<span class="search-tag">निरहंकार होना जाग जाना है</span>, 
					<span class="search-tag">जीत है तो उसकी, हार है तो उसकी</span>, 
					<span class="search-tag">हम सिर्फ साक्षी हो जाएं। कर्ता हम नहीं हैं</span>, 
					<span class="search-tag">छोड़ो सब नियंत्रण</span>, 
					<span class="search-tag">तुम्हारे किए कुछ भी नहीं है</span>, 
					<span class="search-tag">तुम इसकी भ्रांति छोड़ दो कि मेरे चलाए सब चल रहा है</span>, 
					<span class="search-tag">नियम दूंगा तो उसके पीछे अपराध का भाव आता है</span>, 
					<span class="search-tag">तुम जो भी करो जाग कर करो</span>, 
					<span class="search-tag">जो करना ही पड़े, वह बंधन बन जाता है</span>, 
					<span class="search-tag">जीवन में कुछ भी अनिवार्य नहीं</span>, 
					<span class="search-tag">तुम जाग कर जीने लगो</span>, 
					<span class="search-tag">जिस दिन अनुशासन चलने लगे, उस दिन समझना मेरा संबंध टूट गया इस जगह से</span>, 
					<span class="search-tag">जहां अहंकार आया वहीं गति अवरुद्ध हो जाती है</span>, 
					<span class="search-tag">ऐसा सोचना, प्रभु का प्रसाद है</span>, 
					<span class="search-tag">जब हम राजी हो जाते हैं तो हम आंख खोल कर देखने की तत्परता दिखाते हैं</span>, <br /> 

					<!-- 23 -->
					<span class="search-tag">लाभ-हानि</span>, 
					<span class="search-tag">परम संन्यास</span>, 
					<span class="search-tag">सभी ठीक है</span>, 
					<span class="search-tag">उलझन निर्मित</span>, 
					<span class="search-tag">सारी ऊर्जा व्यर्थ कामों में</span>, 
					<span class="search-tag">एकांत</span>, 
					<span class="search-tag">शून्य</span>, 
					<span class="search-tag">अव्यस्त</span>, 
					<span class="search-tag">बचपना</span>, 
					<span class="search-tag">असफल</span>, 
					<span class="search-tag">विफल</span>, 
					<span class="search-tag">भूल जाना संसार को</span>, 
					<span class="search-tag">चैतन्यमात्र</span>, 
					<span class="search-tag">कर्मों में उलझे</span>, 
					<span class="search-tag">कर्म को भूलो</span>, 
					<span class="search-tag">कर्मों को बदलने की कोशिश</span>, 
					<span class="search-tag">न पकड़ो न छोड़ो</span>, 
					<span class="search-tag">सब ठीक या सब गलत</span>, <br />

					<span class="search-tag">सुन</span>, 
					<span class="search-tag">निराशा</span>, 
					<span class="search-tag">सुनो</span>, 
					<span class="search-tag">सुनने</span>, 
					<span class="search-tag">श्रोता</span>, 
					<span class="search-tag">दुख</span>, 
					<span class="search-tag">परीक्षा</span>, 
					<span class="search-tag">आंसु</span>,
				</p>`,
	[bookPathConst.SUFIS_VOL_1]: `<p>
					Search 
					<span class="search-tag">innocent</span>, 
					<span class="search-tag">acceptance</span>, 
					<span class="search-tag">choiceless</span>, 
					<span class="search-tag">totality</span>, 
					<span class="search-tag">you cannot</span>, 
					<span class="search-tag">three basic qualities</span>, 
					<span class="search-tag">You cannot live totally</span>, 
					<span class="search-tag">withdraw yourself</span>, 
					<span class="search-tag">Don’t be burdened</span>, 
					<span class="search-tag">I don’t know</span>, 
					<span class="search-tag">drop that load every day</span>, 
					<span class="search-tag">unknown penetrates life</span>, 
				</p>`,
}

$(document).ready(function() {
	var path = get_parameters_javascript("path") || bookPathConst.MAHA_GEETA; // sufis/vol-1/OSHO-Sufis_The_People_of_Path_1_

	// var note = path === bookPathConst.SUFIS_VOL_1 ? noteSufisVol1 : noteMahaGeeta
	var note = bookNoteConst[path];

	$('body').addClass('dark-mode hide-settings'); // dark-mode has-background

	var cutSecondsArr = [];

	var elem = document.documentElement;
	function openFullscreen() {
	  if (elem.requestFullscreen) {
	    elem.requestFullscreen();
	  } else if (elem.webkitRequestFullscreen) { /* Safari */
	    elem.webkitRequestFullscreen();
	  } else if (elem.msRequestFullscreen) { /* IE11 */
	    elem.msRequestFullscreen();
	  }
	}

	function closeFullscreen() {
	  if (document.exitFullscreen) {
	    document.exitFullscreen();
	  } else if (document.webkitExitFullscreen) { /* Safari */
	    document.webkitExitFullscreen();
	  } else if (document.msExitFullscreen) { /* IE11 */
	    document.msExitFullscreen();
	  }
	}

	// playing audio doesn't work without user interaction
	// setTimeout(function() {
	// 	$('#play-btn').trigger('click');
	// }, 2000)
	// setTimeout(function() {
	// 	$('#pause-btn').trigger('click');
	// }, 4000)

	function replaceHasTime(id) {
		// const message = `अथवा यस्य में सर्वं यब्दाङमनसगोचरम्‌।। 34।।<br><br>0:2:45 धर्म अनुभूति है, विचार नहीं।`
		const message = $(id).html();

		if(message) {
			const mentionsPattern = /(?:(\d{1,2}):)?(\d{1,2}):(\d{1,2})/g;

			const matches = message?.matchAll(mentionsPattern);
			// console.log('matches', matches)

			let newMessage = message;
			// let users = [{id: "c6b77161-3f3e-44ba-9cca-0cecfbf76100", name: "User 1"}, {id: "88bc66e2-53b0-400d-b8da-56200682753a", name: "User 2"}];

			for (const match of matches) {
			  // newMessage = "" + newMessage.replace(match[0], "<span class='user'>" + "@" + (users.find((i) => i.id === match[1])?.name || "Unknown User") + "</span>")

			  let timeseconds = hmsToSeconds(match[0]);
			  cutSecondsArr.push(timeseconds);

			  newMessage = "" + newMessage.replace(match[0], "<div class='cut cut-"+timeseconds+"' time='"+ match[0] +"' endtime='' timeseconds='"+timeseconds+"'>" + match[0] + "</div>")
			}

			// console.log(newMessage);
			$(id).html(newMessage);
		}
	}

	// replace time 
	replaceHasTime('#has-time')

	function hideBtnIfFileNotFound(url, btnClass) {
		$.ajax({
		    url: url,
		    type: 'HEAD',
		    error: function()
		    {
		        //file not exists
		        // console.log('videos.zip doesnt exists, hide button');
		        $(btnClass).addClass('d-none');
		    },
		    success: function()
		    {
		        //file exists
		        // console.log('videos.zip exists');
		    }
		});
	}

	function get_parameters_javascript(paramName1) {
		var scripts = document.getElementsByTagName('script');
		var script = scripts[scripts.length - 1];
		var scriptURL = script.src;
		// console.log(scriptURL);

		// https://stackoverflow.com/questions/979975/get-the-values-from-the-get-parameters-javascript
		var url = new URL(scriptURL); // url_string
		var param1 = url.searchParams.get(paramName1);
		return param1
	}

	// note markup
	// var file = '01';
	var file = get_parameters_javascript("file");

	// console.log('file', file)
	var noteMarkup = `
		<a href="#" id="top">Top</a>
		<div class="audio">
			<div class="audio-goto">
				<span class="mr-2">${file}</span>
				<button id="time-play-btn" type="button" class="btn btn-dark mb-2" title="">Time play</button>
				<button id="pause-btn" type="button" class="btn btn-dark mb-2" title="Press spacebar">Play</button>
				<input type="text" id="hms" value="0:0:0" class="mb-2" />
				<button id="goto-btn" type="button" class="btn btn-dark mb-2" title="Press g">Go</button>

				<button id="" type="button" class="btn btn-dark mb-2" data-toggle="modal" data-target="#modalSettings" title="Settings">Settings</button>

				<button id="" type="button" class="btn btn-dark mb-2" data-toggle="modal" data-target="#modalCut" title="Cut">Cut (${note[file]?.length || 0})</button>
				
				<button id="back-btn" type="button" class="btn btn-dark mb-2" title="Press b">Back</button>
				<button id="fast-btn" type="button" class="btn btn-dark mb-2" title="Press f">Fast</button>

				<button id="prev-btn" type="button" class="btn btn-dark mb-2" title="Press p">Prev</button>
				<button id="next-btn" type="button" class="btn btn-dark mb-2" title="Press n">Next</button>
				<button id="scroll-to-currenttime-btn" type="button" class="btn btn-dark mb-2" title="Press s">Down</button>
				<button id="expand-btn" type="button" class="btn btn-dark mb-2" title="Press e">Expand</button>
			</div>

			<div id="audio-wrap">
				<audio id="audio" controls>
				  <source src="../../../../videos/${path}${file}.mp3" type="audio/mpeg">
				  Your browser does not support the audio tag.
				</audio>
			</div>
		</div>

		<div class="footer"></div>

		<!-- Modal -->
		<div class="modal fade" id="modalSettings" tabindex="-1" aria-labelledby="modalSettingsLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="modalSettingsLabel">Settings</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
				<button id="has-tag-btn" type="button" class="btn btn-dark mb-2">Has Tag</button>
				<button id="repeat-btn" type="button" class="btn btn-dark mb-2">No Repeat</button>
				<button id="dark-mode-btn" type="button" class="btn btn-dark mb-2">Dark Mode</button>
				<button id="hide-settings-btn" type="button" class="btn btn-dark mb-2">Show Settings</button>
				<button id="hide-background-btn" type="button" class="btn btn-dark mb-2">Hide Background</button>

				<a href="../js/custom.zip" class="custom-zip btn btn-dark mb-2">custom.zip</a>
				<a href="../css/style.zip" class="style-zip btn btn-dark mb-2">style.zip</a>
				<a href="../../maha-geeta.zip" class="maha-geeta-zip btn btn-dark mb-2">maha-geeta.zip</a>
				<br>
				<br>

				<button id="open-fullscreen" type="button" class="btn btn-dark mb-2">Fullscreen</button>
				<button id="close-fullscreen" type="button" class="btn btn-dark mb-2">Close Fullscreen</button>
				<br>
				<br>

				<input value="${file}" id="next-page-input" style="width: 50px;">
				<button class="btn btn-dark" id="next-page-btn">Go</button>
				<br>
				<br>
				
				<input value="" id="cut-text-input" style="width: 100%;">
				<button class="btn btn-dark" id="cut-text-btn">Go</button>
		      </div>
		    </div>
		  </div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="modalCut" tabindex="-1" aria-labelledby="modalCutLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="modalCutLabel">Cut list</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body cut-list">
				${searchTagConst[path]}
				
				<input id="cut-list-search" class="mb-3" type="text" value="" placeholder="Search" />
				<button id="btn-cut-list-search">Go</button>
				<button id="btn-cut-list-search-all">Search all</button>

		      	<div class="cut-list-wrap"></div>
		      `;

				// note
				// note[file]?.forEach((item, index) => {
			    //   noteMarkup += getCutItemMarkup(item);
			    // });

		     noteMarkup += `</div>
		    </div>
		  </div>
		</div>

		<div class="cut-list">
			<div class="cut-list-wrap"></div>
		`;

    noteMarkup += '</div>';

	$('#note').html(noteMarkup);
	// end note markup


	// cutListMarkup
	var cutListMarkup = '';
	note[file]?.forEach((item, index) => {
      cutListMarkup += getCutItemMarkup(item);
    });

	$('.cut-list-wrap').html(cutListMarkup);

	$('#btn-cut-list-search').click(function() {
		var searchText = $('#cut-list-search').val();
		// console.log('searchText', searchText, $(this).val());

		let searchedNote = note[file]?.filter(o => o.desc?.indexOf( searchText ) >= 0);
		// console.log('searchedNote', searchedNote)

		cutListMarkup = '';
		searchedNote?.forEach((item, index) => {
	      cutListMarkup += getCutItemMarkup(item);
	    });
		$('.cut-list-wrap').html(cutListMarkup);

		cutClassAction()
	});

	$('#btn-cut-list-search-all').click(function() {
		var searchText = $('#cut-list-search').val();

		var searchedNote = ''
		cutListMarkup = ''

		var noteKeys = Object.keys(note);
		noteKeys.forEach((item, index) => {
			searchedNote = note[item]?.filter(o => o.desc?.indexOf( searchText ) >= 0);
			// console.log('searchedNote', searchedNote)

			if(searchedNote?.length > 0) {
				cutListMarkup += `<h2 class="change-audio-file cursor-pointer" file="${item}">${item} <a href="${item}.html" class="ml-3">${item}.html</a></h2>`;

				searchedNote?.forEach((item, index) => {
			      cutListMarkup += getCutItemMarkup(item);
			    });
		    }
		    else {
		    	// $('.h2-'+item).addClass('d-none'); // markup pachi matra write garne vayeko le
		    	// console.log('hide', '.h2-'+item)
		    }
		})

		$('.cut-list-wrap').html(cutListMarkup);

		changeAudioFile()
		cutClassAction()
	})

	$('.search-tag').click(function() {
		$('#cut-list-search').val( $(this).text() );

		$('#btn-cut-list-search-all').trigger('click');
	})

	function changeAudioFile() {
		$('.change-audio-file').click(function() {
			var file = $(this).attr('file');

			$('#audio-wrap').html(`
				<audio id="audio" controls>
				  <source src="../../../../videos/osho-maha-geeta/cbr/OSHO-Maha_Geeta_${file}.mp3" type="audio/mpeg">
				  Your browser does not support the audio tag.
				</audio>`);
		})
	}


	function getCutItemMarkup(item) {
		var cutTag = item.tag != '' ? 'has-tag' : 'has-no-tag';
			  
		var timeseconds = hmsToSeconds(item.time);

		// cut-${timeseconds}
		return `<div class="cut ${cutTag}" timeseconds="${timeseconds}" time="${item.time}" endtime="${item.endtime}">
	      	<span class="cut-index">${item.time}</span>
	      	<span class="cut-desc">${item.desc}</span>
      	</div>`;
      	// <span class="cut-tag">${item.tag}</span>
      	// <span class="cut-endtime">${item.endtime}</span>
	}


	// scrollToCurrent..
	function scrollToCurrentTime(cutSecondsArr) {
		// console.log('cutSecondsArr', cutSecondsArr);
		var currentSeconds = document.getElementById('audio').currentTime

		getCurrentTime(currentSeconds); // copy to clipboard

		let returnLarger = (arr, num) => {
		  let newArr = []
		     
		  for(let i = 0; i < arr.length; i++){
		    if(arr[i] > num){
		    	// newArr.push(arr[i])

		    	// console.log('arr[i-1]', $('.cut-'+arr[i-1]).text()) // previous
		    	scrollTo( $('.cut-'+arr[i-1]) );

		    	break;
		    }
		  }
		    
		  return newArr
		}

		returnLarger(cutSecondsArr, currentSeconds);
	}

	$('#scroll-to-currenttime-btn').click(function() {
		// console.log('clicked scroll to')
		scrollToCurrentTime(cutSecondsArr);
	})



	// var unique_input = nepalify.interceptElementById("unique-input")

	hideBtnIfFileNotFound('../js/custom.zip', '.custom-zip');
	hideBtnIfFileNotFound('../css/style.zip', '.style-zip');
	hideBtnIfFileNotFound('../../maha-geeta.zip', '.maha-geeta-zip');

	function gotoVid() {
		var hms = document.getElementById("hms").value;
		goto(hms)
	}

	function goto(hms) {
		var seconds = hmsToSeconds(hms);
		document.getElementById('audio').currentTime = seconds;				
	}

	function showTime(time) {
	    // document.getElementById("video-current-time").innerHTML = time
	    document.getElementById("hms").value = time				
	}

	function copyToClipboard(copyText) {
		// honor maa file:/// maa copy hudaina jasto cha..
		if(window.innerWidth >= 768) {
			// copyText.select();
			// copyText.setSelectionRange(0, 99999); // For mobile devices

			// Copy the text inside the text field
			navigator.clipboard.writeText(copyText + " "); // copyText.value
			// console.log('copied', copyText.value)
		}
	}

	function getCurrentTime(totalSeconds) {
	    // var totalSeconds = document.getElementById('audio').currentTime;
	    // console.log('currentTime', totalSeconds);

	    hours = Math.floor(totalSeconds / 3600);
	    totalSeconds %= 3600;
	    minutes = Math.floor(totalSeconds / 60);
	    seconds = Math.floor(totalSeconds % 60);
	    // console.log('seconds', seconds);

	    var time = hours+":"+minutes+":"+seconds

	    // showTime(time)
	    document.getElementById("hms").value = time;

	    // var copyText = document.getElementById("hms");
	    copyToClipboard(time);

	}

	function hmsToSeconds(hms) {
		// var hms = '02:04:33';   // your input string
		var a = hms.split(':'); // split it at the colons

		// minutes are worth 60 seconds. Hours are worth 60 minutes.
		var seconds = (+a[0]) * 60 * 60 + (+a[1]) * 60 + (+a[2]); 

		return seconds;
	}

	$('#goto-btn').click(function() {
		var hms = $('#hms').val();
		goto(hms);
	})

	function audioPlay() {
		var audio = document.getElementById('audio');		
		$('body').addClass('playing');

		audio.play();
		$('#pause-btn').text('Pause');
	}

	function togglePause() {
		// console.log($('body'))
		var $body = $('body');

		// $this.toggleClass('playing'); // paused
		$body.toggleClass('playing');

		var audio = document.getElementById('audio');

		if($body.hasClass('playing')) {
			audio.play();
			$('#pause-btn').text('Pause');
		}
		else {
			audio.pause();
			$('#pause-btn').text('Play')

			var seconds = audio.currentTime;
			getCurrentTime(audio.currentTime);;
		}
	}

	$('#pause-btn').click(function() {	
		// $this = $(this);

		togglePause();
	})

	$('#time-play-btn').click(function() {
		var time = 30 * 60 * 1000; // 30 min
		var pauseAfterTime = 5 * 60 * 1000 // pause after 5 min

		console.log('start', new Date())
		// play
		togglePause()
		// pause after 5 min
		setTimeout(function() {
			console.log('pause', new Date())
			togglePause()
		}, pauseAfterTime)


		// play again each 30 min
		setInterval(function() {
			console.log('play', new Date())
			togglePause()

			// pause after 5 min
			setTimeout(function() {
				console.log('pause', new Date())
				togglePause()
			}, pauseAfterTime)
		}, time);
	})

	/*$('#play-btn').click(function() {	
		var audio = document.getElementById('audio');
		audio.play();
	})*/

	// keyboard event	
	window.addEventListener(
	  "keydown",
	  (event) => {
	    if (event.defaultPrevented) {
	      return; // Do nothing if the event was already processed
	    }

	    switch (event.key) {
	      // case "p":
	      // case "P":
	      case " ":
	        // $('#pause-btn').trigger('click');
	        togglePause(); // pause and save and play

	        setTimeout(function() {
	        	togglePause();
	        }, 500)
	        break;

	      case "g":
	        $('#goto-btn').trigger('click');
	        break;

	      case "b":
	        $('#back-btn').trigger('click');
	        break;

	      case "f":
	        $('#fast-btn').trigger('click');
	        break;

	      case "p":
	        // $('#prev-btn').trigger('click');
					$('#pause-btn').trigger('click');
	        break;

	      case "n":
	        $('#next-btn').trigger('click');
	        break;

	      case "s":
	        $('#scroll-to-currenttime-btn').trigger('click');

			// var e = jQuery.Event("keyup");

			// e.which is used to set the keycode
			// e.which = 38; // it is up
			// e.which = 40; // it is down
			// $(".ck-editor .ck-content p").trigger(e);

	        break;

	      case "e":
	        $('#expand-btn').trigger('click');
	        break;

	      // case "v":
	      	// ctrl + v
	      	// navigator.clipboard.read();
	      	// document.execCommand('paste'); // copy to copy

	      	// navigator.clipboard.readText().then(clipText => console.log(clipText));
	      	// break;

	      default:
	        return; // Quit when this doesn't handle the key event.
	    }

	    // Cancel the default action to avoid it being handled twice
	    event.preventDefault();
	  },
	  true
	);

	$('#back-btn').click(function() {	
		// back from current audio time
		// var audio = document.getElementById('audio');
		// var seconds = audio.currentTime;

		var hms = document.getElementById('hms').value;
		// console.log('hms', hms)
		var seconds = hmsToSeconds(hms)
		// console.log('seconds', seconds - 1)

		// play from seconds
		audio.currentTime = seconds - 1; // -10 second

		// copy
		getCurrentTime(seconds - 1);
	})

	$('#fast-btn').click(function() {	
		// console.log('play')
		var audio = document.getElementById('audio');

		var seconds = audio.currentTime;
		audio.currentTime = seconds + 10; // -10 second

		// getCurrentTime(audio.currentTime);
	})

	$('#prev-btn').click(function() {	
		$(".cut").eq( $(".cut").index( $('.cut.active') ) - 1 ).trigger('click');
	})
	$('#next-btn').click(function() {	
		$(".cut").eq( $(".cut").index( $('.cut.active') ) + 1 ).trigger('click');
	})

	$('#expand-btn').click(function() {
		// $(this).toggleClass('active');
		$('body').toggleClass('expand-all');
		
		if($('body').hasClass('expand-all')) {
			$(this).text('Collapse');
			// $('.cut').addClass('active');
		}
		else {
			$(this).text('Expand');
			// $('.cut').removeClass('active');
		}
	})

	$('#has-tag-btn').click(function() {
		$(this).toggleClass('active');
		
		if($(this).hasClass('active')) {
			// $(this).text('Collapse');
			$('.cut.has-tag').show();
			$('.cut.has-no-tag').hide();
		}
		else {
			// $(this).text('Expand');
			// $('.cut').removeClass('active');
			$('.cut.has-no-tag').show();
			$('.cut.has-tag').show();
		}
	})

	$('#repeat-btn').click(function() {
		$(this).toggleClass('active');
		if($(this).hasClass('active')) {
			$(this).text('Repeat');
		}
		else {
			$(this).text('No Repeat');
		}
	})

	$('#dark-mode-btn').click(function() {
		$(this).toggleClass('active');
		if($(this).hasClass('active')) {
			$('body').addClass('dark-mode');
			$(this).text('Light Mode'); // click to light mode
		}
		else {
			$('body').removeClass('dark-mode');
			$(this).text('Dark Mode');
		}
	})

	$('#hide-settings-btn').click(function() {
		// $(this).toggleClass('active');

		if($('body').hasClass('hide-settings')) {
			$('body').removeClass('hide-settings');
			$(this).text('Hide Settings'); // click to light mode
		}
		else {
			$('body').addClass('hide-settings');
			$(this).text('Show Settings');
		}
	})

	$('#hide-background-btn').click(function() {
		// $(this).toggleClass('active');

		if($('body').hasClass('has-background')) {
			$('body').removeClass('has-background');
			$(this).text('Show Background'); // click to light mode
		}
		else {
			$('body').addClass('has-background');
			$(this).text('Hide Background');
		}
	})

	$('#next-page-btn').click(function() {
		var next_page_input = $('#next-page-input').val();
		var next_page_url = './'+next_page_input+'.html'

		console.log(next_page_url)

		window.location.href = next_page_url;
	})

	$('#cut-text-btn').click(function() {
		var input = $('#cut-text-input').val();
		console.log(input)

		$('.cut.active').append(' ' + input);
	})

	$('#open-fullscreen').click(function() {
		openFullscreen()
	})

	$('#close-fullscreen').click(function() {
		closeFullscreen()
	})
	
	function scrollTo(element) {
		// scroll to div
		var offset = 65;
		if(window.innerWidth >= 992) {
			offset = 20;
		}
		 $('html, body').animate({
	        scrollTop: element.offset().top - offset // "#myDiv"
	    }, 2000);
	}

	function cutClassAction() {
		$('.cut').click(function() {
			var $this = $(this);
			
			// var repeat = true;
			var repeat = $('#repeat-btn').hasClass('active');

			// $(this).toggleClass('active')

			$('.cut').removeClass('active')
			$($this).addClass('active')

				var hms = $this.attr('time')

				// copy for note
				navigator.clipboard.writeText(hms);

				var hmsEnd = $this.attr('endtime')

				// var seconds = hmsToSeconds(hms);
				var seconds = $this.attr('timeseconds');

				var secondsEnd = hmsToSeconds(hmsEnd);
				var secondsDuration = secondsEnd - seconds + 1; // audio pahila play gare pachi milcha natra audio load le garda delay huncha

				// document.getElementById('vid1').currentTime = time
				if(seconds > 0) {
					var audio = document.getElementById('audio');
					audio.currentTime = seconds;
					
					// audio.play();
				    // getCurrentTime(seconds);
				    audioPlay();
									
					// scrolling from note > .cut to .cut
					scrollTo( $('.cut-'+seconds) );

					// scrollTo($this);

					// pause after endtime
					if(secondsDuration > 0) {
						setTimeout(function() {
							// console.log('pause after ', secondsDuration)

							// aru maa click gare pachi active class hati sakne vayeko le.
							if($('body').hasClass('active')) {
								audio.pause();
						    	getCurrentTime(audio.currentTime);
								
						    	$this.removeClass('active');
								scrollTo($this);

								// repeat
								
								if(repeat) {
									$this.trigger('click')
								}
					    	}
						}, (secondsDuration * 1000));
					}
				}
		})
	}

	// clicking
	cutClassAction()


	// ck editor
  document.querySelector( '#editor' ) && ClassicEditor
        .create( document.querySelector( '#editor' ) )
        .catch( error => {
            console.log( error );
    	} 
    );
});